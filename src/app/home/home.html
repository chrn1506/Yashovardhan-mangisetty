<app-header></app-header>

<main>
  <section id="booking" class="section booking-preview">
    <div class="container booking-grid">
      <div class="booking-left">
        <h2 class="booking-doctor-name">Dr. Yashovardhan Mangisetty</h2>
        <p class="booking-specialty">{{ t('booking.specialty') }}</p>

        <div class="booking-list-card">
          <div class="clinic-row">
            <div class="clinic-text">
              <h3>Breath Well Pulmonology and Specialty Clinics</h3>
              <p>Anantapur, Andhra Pradesh 515001</p>
            </div>
            <!-- <a href="#contact" class="book-btn" (click)="openAppointmentModal($event)">{{ t('common.bookAppointment') }}</a> -->
            <a href="#contact" class="book-btn">{{ t('common.bookAppointment') }}</a>
          </div>
        </div>
      </div>

      <div class="booking-image-card">
        <img
          src="assets/images/docter_image1.jpeg"
          alt="Dr. Yashovardhan Mangisetty"
          loading="eager"
          fetchpriority="high"
          decoding="async"
          width="720"
          height="960"
        />
      </div>
    </div>
  </section>

  <section id="about" class="section about">
    <div class="container">
      <h2>{{ t('about.title') }}</h2>
      <div class="about-card">
        <div class="about-photo">
          <div class="about-photo-frame">
            <img
              class="Imgshapes"
              src="assets/images/docter_image1.jpeg"
              alt="Dr. Yashovardhan mangisetty"
              loading="lazy"
              decoding="async"
            />
          </div>

          <div class="about-photo-info">
            <h4>Dr. Yashovardhan Mangisetty</h4>
            <p class="role">{{ t('booking.specialty') }}</p>
            <p class="exp">{{ t('about.yearsExp') }}</p>
          </div>

          <div class="about-socials">
            <!-- <h5>{{ t('about.socials') }}</h5> -->
            <div class="about-social-links">
              <a href="#" aria-label="Instagram">
                <img src="assets/images/icons8-instagram.svg" alt="Instagram" />
              </a>
              <a href="#" aria-label="Facebook">
                <img class ="social-icon-fb" src="assets/images/facebook-svgrepo-com.svg" alt="Facebook" />
              </a>
            </div>
          </div>
        </div>

        <div class="about-info">
          <h3>Dr.Yashovardhan mangisetty</h3>
          <p class="title">MBBS, MD, DNB (Pulmonology), EDARM (Switzerland), FIAB, FAAI (PGIMER)</p>
          <p class="registration"><strong>Registration No.:</strong> 79634, Telangana State Medical Council, 2012</p>
          <p class="languages"><strong>Languages Spoken:</strong> English, ‡§π‡§ø‡§Ç‡§¶‡•Ä, ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å</p>
          
          <p class="intro">Dr.Yashovardhan mangisetty is an accomplished Pulmonologist with 10 years of experience in treating a wide range of respiratory conditions. His expertise spans across Pulmonary Medicine, focusing on the diagnosis, treatment, and management of respiratory disorders. He is dedicated to providing high-quality care for patients with conditions such as asthma, COPD, lung infections, and other chronic respiratory diseases.</p>

          <p>Known for his patient-centered approach, Dr.mangisetty ensures that each individual receives personalized care tailored to their specific health needs. With a commitment to clear communication, he fluently speaks English, Hindi, and Telugu, making him accessible to a diverse patient base in Anantapur.</p>

          <div class="qualifications">
            <h4>Educational Qualifications:</h4>
            <ul>
              <li>MD (Doctor of Medicine)</li>
              <li>DM (Doctorate of Medicine) in Pulmonary Medicine</li>
            </ul>
          </div>

          <div class="specialties">
            <h4>Specialties:</h4>
            <ul>
              <li>Pulmonary Medicine</li>
              <li>Pulmonology (Respiratory Health)</li>
              <li>Asthma, COPD, and Lung Infection Management</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="view-clinic" class="section view-clinic-section">
    <div class="container">
      <div class="view-clinic-header">
        <h2>{{ t('clinic.title') }}</h2>
        <p>{{ t('clinic.subtitle') }}</p>
      </div>

      @for (clinic of viewClinics; track clinic.name) {
        <article class="view-clinic-card">
          <div class="view-clinic-left">
            <h3>{{ clinic.name }}</h3>
            <p>{{ clinic.address }}</p>

            <div class="view-clinic-actions">
              <a [href]="clinic.bookLink" class="vc-btn vc-btn-primary">{{ t('common.bookAppointment') }}</a>
              <a [href]="clinic.callLink" class="vc-btn vc-btn-soft">{{ t('common.callClinic') }}</a>
              <a [href]="clinic.directionsLink" class="vc-btn vc-btn-soft" target="_blank" rel="noopener noreferrer">{{ t('common.getDirections') }}</a>
            </div>

            <div class="view-clinic-map">
              <iframe
                [src]="clinic.mapEmbedUrl"
                [attr.title]="'Map for ' + clinic.name"
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
              ></iframe>
            </div>
          </div>

          <div class="view-clinic-right">
            <h4>{{ t('clinic.timingsTitle') }}</h4>
            <div class="view-clinic-timings">
              @for (timing of clinic.timings; track timing.dayKey) {
                <div class="vc-timing-row">
                  <span>{{ t(timing.dayKey) }}</span>
                  <span>{{ timing.time }}</span>
                </div>
              }
            </div>
          </div>
        </article>
      }
    </div>
  </section>

  <section id="testimonials" class="section testimonials-section">
    <div class="container">
      <div class="testimonials-header">
        <h2>{{ t('testimonials.title') }}</h2>
        <p>{{ t('testimonials.subtitle') }}</p>
      </div>

      <div class="testimonials-carousel" tabindex="0" (keydown)="onTestimonialsKeydown($event)" aria-label="Testimonials carousel">
        <button
          class="t-arrow t-arrow-left"
          type="button"
          (click)="prevTestimonials()"
          [disabled]="!canGoPrevTestimonials"
          aria-label="Previous testimonials"
        >
          &#10094;
        </button>

        <div
          class="testimonials-viewport"
          [style.--slide-index]="testimonialIndex"
          [style.--cards-per-view]="cardsPerView"
        >
          <div class="testimonials-track">
            @for (item of testimonials; track item.name) {
              <article class="testimonial-card">
                <span class="t-quote">&#10077;</span>
                <p class="t-message">{{ item.quote }}</p>
                <p class="t-rating">{{ starText(item.rating) }}</p>
                <h4>{{ item.name }}</h4>
                <p class="t-time">{{ item.yearsAgo }} years ago</p>
              </article>
            }
          </div>
        </div>

        <button
          class="t-arrow t-arrow-right"
          type="button"
          (click)="nextTestimonials()"
          [disabled]="!canGoNextTestimonials"
          aria-label="Next testimonials"
        >
          &#10095;
        </button>
      </div>
    </div>
  </section>

  <section id="gallery" class="section gallery">
    <div class="container">
      <h2>{{ t('gallery.title') }}</h2>
      <div class="gallery-grid">
        <div class="thumb">
          <img src="assets/images/gallery1.jpg" alt="Clinic gallery image 1" loading="lazy" decoding="async" />
        </div>
        <div class="thumb">
          <img src="assets/images/gallery2.jpg" alt="Clinic gallery image 2" loading="lazy" decoding="async" />
        </div>
        <div class="thumb">
          <img src="assets/images/gallery3.jpg" alt="Clinic gallery image 3" loading="lazy" decoding="async" />
        </div>
      </div>
    </div>
  </section>

  <section id="treatments" class="section treatments-section">
    <div class="container">
      <div class="treatments-header">
        <h2>{{ t('treatments.title') }}</h2>
        <p>{{ t('treatments.subtitle') }}</p>
      </div>

      <div class="treatments-grid">
        @for (item of treatmentsOffered; track item.id) {
          <article class="treatment-card">
            <img src="assets/images/allergy.jpg" [alt]="item.title" loading="lazy" decoding="async" (error)="$any($event.target).src='assets/images/docter_image1.jpeg'" />
            <h3>{{ item.title }}</h3>
            <p>{{ item.summary }}</p>
            <button type="button" (click)="openTreatmentModal(item)" aria-haspopup="dialog" [attr.aria-label]="t('common.readMore') + ' ' + item.title">
              {{ t('common.readMore') }}
            </button>
          </article>
        }
      </div>
    </div>
  </section>

  @if (isTreatmentModalOpen && selectedTreatment) {
    <div class="treatment-modal-backdrop" (click)="closeTreatmentModal()" role="presentation">
      <div class="treatment-modal-shell" #treatmentModalShell role="dialog" aria-modal="true" [attr.aria-label]="selectedTreatment.title" (click)="$event.stopPropagation()">
        <button class="treatment-modal-close" #treatmentModalCloseBtn type="button" (click)="closeTreatmentModal()" aria-label="Close treatment details">
          &times;
        </button>

        <div class="treatment-modal-hero">
          <img src="assets/images/allergy.jpg" [alt]="selectedTreatment.title" (error)="$any($event.target).src='assets/images/docter_image1.jpeg'" />
        </div>

        <div class="treatment-modal-content">
          <div class="treatment-modal-main">
            <h3>{{ selectedTreatment.title }}</h3>
            <p>{{ selectedTreatment.intro }}</p>

            <h4>{{ t('treatments.diagnosis') }}</h4>
            <ul>
              @for (line of selectedTreatment.diagnosis; track line) {
                <li>{{ line }}</li>
              }
            </ul>

            <h4>{{ t('treatments.treatment') }}</h4>
            <ul>
              @for (line of selectedTreatment.treatmentPlan; track line) {
                <li>{{ line }}</li>
              }
            </ul>
          </div>

          <aside class="treatment-modal-side">
            <h5>{{ t('treatments.other') }}</h5>
            <div class="treatment-side-list">
              @for (item of treatmentsOffered; track item.id) {
                <button
                  type="button"
                  class="treatment-side-btn"
                  [class.active]="item.id === selectedTreatment.id"
                  (click)="selectTreatment(item)"
                >
                  {{ item.title }}
                </button>
              }
            </div>
          </aside>
        </div>
      </div>
    </div>
  }

  @if (isAppointmentModalOpen) {
    <div class="appointment-modal-backdrop" (click)="closeAppointmentModal()" role="presentation">
      <div class="appointment-modal-shell" #appointmentModalShell role="dialog" aria-modal="true" aria-label="Book appointment form" (click)="$event.stopPropagation()">
        <button class="appointment-modal-close" #appointmentModalCloseBtn type="button" (click)="closeAppointmentModal()" aria-label="Close appointment form">
          &times;
        </button>

        <div class="appointment-modal-head">
          <p class="appointment-tag">In-Clinic Consultation</p>
          <h3>Book Appointment</h3>
          <p>Share your details and preferred slot. We will connect with you shortly.</p>
        </div>

        <form class="appointment-form" (submit)="$event.preventDefault(); submitAppointment()">
          <div class="appointment-field">
            <label for="appointment-name">Name</label>
            <input
              id="appointment-name"
              type="text"
              placeholder="Enter patient name"
              [value]="appointmentForm.name"
              [class.invalid]="isAppointmentFieldInvalid('name')"
              (input)="updateAppointmentField('name', $any($event.target).value)"
            />
          </div>

          <div class="appointment-field">
            <span class="appointment-label">Gender</span>
            <div class="appointment-gender-row">
              <button type="button" [class.active]="appointmentForm.gender === 'Male'" (click)="setGender('Male')">Male</button>
              <button type="button" [class.active]="appointmentForm.gender === 'Female'" (click)="setGender('Female')">Female</button>
              <button type="button" [class.active]="appointmentForm.gender === 'Other'" (click)="setGender('Other')">Other</button>
            </div>
            @if (isAppointmentFieldInvalid('gender')) {
              <small>Please select gender</small>
            }
          </div>

          <div class="appointment-two-col">
            <div class="appointment-field">
              <label for="appointment-age">Age</label>
              <input
                id="appointment-age"
                type="number"
                min="1"
                max="120"
                placeholder="Age"
                [value]="appointmentForm.age"
                [class.invalid]="isAppointmentFieldInvalid('age')"
                (input)="updateAppointmentField('age', $any($event.target).value)"
              />
            </div>

            <div class="appointment-field">
              <label for="appointment-phone">Phone Number</label>
              <input
                id="appointment-phone"
                type="tel"
                placeholder="Enter mobile number"
                [value]="appointmentForm.phone"
                [class.invalid]="isAppointmentFieldInvalid('phone')"
                (input)="updateAppointmentField('phone', $any($event.target).value)"
              />
            </div>
          </div>

          <div class="appointment-two-col">
            <div class="appointment-field">
              <label for="appointment-date">Date</label>
              <input
                id="appointment-date"
                type="date"
                [value]="appointmentForm.date"
                [class.invalid]="isAppointmentFieldInvalid('date')"
                (input)="updateAppointmentField('date', $any($event.target).value)"
              />
            </div>

            <div class="appointment-field">
              <label for="appointment-time">Time</label>
              <input
                id="appointment-time"
                type="time"
                [value]="appointmentForm.time"
                [class.invalid]="isAppointmentFieldInvalid('time')"
                (input)="updateAppointmentField('time', $any($event.target).value)"
              />
            </div>
          </div>

          <div class="appointment-field">
            <span class="appointment-label">Quick Slots</span>
            <div class="appointment-time-slots">
              @for (slot of appointmentTimeSlots; track slot) {
                <button type="button" [class.active]="appointmentForm.time === slot" (click)="selectAppointmentTime(slot)">
                  {{ formatAppointmentTime(slot) }}
                </button>
              }
            </div>
          </div>

          @if (appointmentSubmitError) {
            <p class="appointment-status appointment-status-error">{{ appointmentSubmitError }}</p>
          }

          <button type="submit" class="appointment-submit-btn" [disabled]="isSubmittingAppointment">
            {{ isSubmittingAppointment ? 'Booking...' : t('common.bookAppointment') }}
          </button>
        </form>
      </div>
    </div>
  }

  <section id="contact" class="contact-section">
  <div class="container contact-container">

      <div class="contact-header">
      <h2>{{ t('contact.title') }}</h2>
      <p>{{ t('contact.subtitle') }}</p>
    </div>

    <div class="contact-grid">

      <!-- LEFT : Contact Info -->
      <div class="contact-card info-card">
        <h3>{{ t('contact.reach') }}</h3>

        <div class="info-row">
          <span class="icon">üìß</span>
          <div>
            <label>{{ t('contact.email') }}</label>
            <a href="mailto:doctor@example.com">doctor@example.com</a>
          </div>
        </div>

        <div class="info-row">
          <span class="icon">üì±</span>
          <div>
            <label>{{ t('contact.phone') }}</label>
            <a href="tel:+1234567890">(123) 456-7890</a>
          </div>
        </div>

        <div class="info-row">
          <span class="icon">üìç</span>
          <div>
            <label>{{ t('contact.address') }}</label>
            <p>Anantapur,<br />Andhra Pradesh 515001</p>
          </div>
        </div>

        <div class="info-row">
          <span class="icon">üïí</span>
          <div>
            <label>{{ t('contact.hours') }}</label>
            <p>
              Mon-Fri: 9:00 AM ‚Äì 5:00 PM<br />
              Sat: 10:00 AM ‚Äì 2:00 PM<br />
              Sun: Closed
            </p>
          </div>
        </div>
      </div>

      <!-- RIGHT : Call To Action -->
      <div class="contact-card action-card">
        <h3>{{ t('contact.needHelp') }}</h3>
        <p>
          {{ t('contact.needHelpDesc') }}
        </p>

        <div class="action-buttons">
          <a href="mailto:doctor@example.com" class="primary-btn">{{ t('contact.emailUs') }}</a>
          <a href="tel:+1234567890" class="secondary-btn">{{ t('contact.callNow') }}</a>
          <a href="https://wa.me/917703220969?text=Hello%20Doctor%2C%20I%20need%20assistance." target="_blank" rel="noopener noreferrer" class="whatsapp-btn">
            {{ t('contact.whatsapp') }}
          </a>
        </div>
      </div>

    </div>
  </div>
</section>
</main>

<app-footer></app-footer>
